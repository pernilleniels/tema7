<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <div class="popup">
      <div class="popup-content">
        <button>Close</button>
        <h2 class="single-titel" data-titel>test</h2>
        <img src="" alt="" class="single-img" data-singleimg />
        <details open>
          <summary>Beskrivelse</summary>
          <p data-beskrivelse>Her st√•r noget tekst</p>
        </details>
      </div>
    </div>

    <script>
      const Urlparameter = new URLSearchParams(window.location.search);

      const retId = Urlparameter.get("id");

      console.log(retId);

      let retter;

      document.addEventListener("DOMContentLoaded", getJson);

      async function getJson() {
        let jsonData = await fetch("https://babushka-dd8a.restdb.io/rest/menu");

        let tempVar = await jsonData.json();
        retter = tempVar.feed.entry;

        visRetter();
      }

      function visRetter() {
        retter.forEach((retter) => {
          if (ret.gsx$id.$t == retterId) {
            console.log(retter);

            document.querySelector(".popup h2").textContent =
              retter.gsx$navn.$t;
            document.querySelector(
              ".popup img"
            ).src = `imgs/large/${retter.gsx$billede.$t}.jpg`;
            document.querySelector(".popup img").alt = retter.gsx$navn.$t;
            document.querySelector(".popup details p").textContent =
              retter.gsx$lang.$t;
          }
        });
      }
    </script>
  </body>
</html>
